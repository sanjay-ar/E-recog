{"ast":null,"code":"var _jsxFileName = \"/Users/sanjayar/Desktop/moody-main copy 2/src/pages/feedback/Feedback.tsx\",\n    _s = $RefreshSig$();\n\nimport { Box, Button, Container, Typography, makeStyles, Paper, Fade } from \"@material-ui/core\";\nimport { useParams } from \"react-router-dom\";\nimport Error from \"../../error/Error\";\nimport { useState } from \"react\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport { Favorite, Security, Send } from \"@material-ui/icons\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport NotFound from \"../NotFound\";\nimport { useFetchPublicMeeting, useSubmitAnswer } from \"./hooks\";\nimport { EXPIRATION_MINUTES } from \"./constants\";\nimport { red } from \"@material-ui/core/colors\";\nimport { useAppSelector } from \"../../reduxHooks\";\nimport Question from \"./Question\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  background: {\n    backgroundImage: \"url('/images/feedback-bg.jpg')\",\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\",\n    backgroundRepeat: \"no-repeat\",\n    minHeight: \"100vh\",\n    width: \"100%\",\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    \"&::before\": {\n      content: '\"\"',\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: \"rgba(26, 37, 47, 0.85)\"\n    }\n  },\n  wrapper: {\n    position: \"relative\",\n    minHeight: \"100vh\",\n    overflowX: \"hidden\",\n    overflowY: \"auto\"\n  },\n  content: {\n    position: \"relative\",\n    zIndex: 1,\n    color: \"#ECF0F1\",\n    paddingTop: theme.spacing(8),\n    paddingBottom: theme.spacing(8)\n  },\n  feedbackCard: {\n    backgroundColor: \"rgba(44, 62, 80, 0.7)\",\n    backdropFilter: \"blur(10px)\",\n    borderRadius: theme.spacing(2),\n    padding: theme.spacing(4),\n    border: \"1px solid rgba(236, 240, 241, 0.1)\",\n    boxShadow: \"0 8px 32px rgba(0, 0, 0, 0.2)\"\n  },\n  title: {\n    fontSize: \"3rem\",\n    fontWeight: 700,\n    marginBottom: theme.spacing(1),\n    color: \"#ECF0F1\"\n  },\n  subtitle: {\n    fontSize: \"1.5rem\",\n    color: \"#BDC3C7\",\n    marginBottom: theme.spacing(4)\n  },\n  submitButton: {\n    padding: theme.spacing(1.5, 4),\n    fontSize: \"1.1rem\",\n    borderRadius: theme.spacing(1),\n    textTransform: \"none\",\n    transition: \"all 0.3s ease-in-out\",\n    \"&:hover\": {\n      transform: \"translateY(-2px)\",\n      boxShadow: \"0 5px 15px rgba(0, 0, 0, 0.3)\"\n    }\n  },\n  anonymousBox: {\n    backgroundColor: \"rgba(52, 73, 94, 0.7)\",\n    borderRadius: theme.spacing(1),\n    padding: theme.spacing(2),\n    marginTop: theme.spacing(3),\n    border: \"1px solid rgba(236, 240, 241, 0.1)\"\n  },\n  thankYouBox: {\n    backgroundColor: \"rgba(44, 62, 80, 0.7)\",\n    backdropFilter: \"blur(10px)\",\n    borderRadius: theme.spacing(2),\n    padding: theme.spacing(6),\n    textAlign: \"center\",\n    border: \"1px solid rgba(236, 240, 241, 0.1)\",\n    boxShadow: \"0 8px 32px rgba(0, 0, 0, 0.2)\"\n  },\n  heartIcon: {\n    animation: \"$pulse 1.5s infinite\",\n    color: red[500],\n    fontSize: \"3rem\",\n    marginTop: theme.spacing(2)\n  },\n  \"@keyframes pulse\": {\n    \"0%\": {\n      transform: \"scale(1)\"\n    },\n    \"50%\": {\n      transform: \"scale(1.2)\"\n    },\n    \"100%\": {\n      transform: \"scale(1)\"\n    }\n  }\n}));\nexport default function Feedback() {\n  _s();\n\n  const classes = useStyles();\n  const {\n    publicMeetingId\n  } = useParams();\n  const [meetingLoading, expired, publicMeeting] = useFetchPublicMeeting(publicMeetingId);\n  const [submitLoading, submitted, submitAnswer] = useSubmitAnswer(publicMeeting === null || publicMeeting === void 0 ? void 0 : publicMeeting.id, publicMeeting === null || publicMeeting === void 0 ? void 0 : publicMeeting.owner);\n  const signedIn = useAppSelector(state => state.auth.signedIn);\n  const userId = useAppSelector(state => {\n    var _state$auth$user;\n\n    return (_state$auth$user = state.auth.user) === null || _state$auth$user === void 0 ? void 0 : _state$auth$user.id;\n  });\n  const [overallStars, setOverallStars] = useState(3);\n  const [paceStars, setPaceStars] = useState(null);\n  const [contentStars, setContentStars] = useState(null);\n  return !meetingLoading ? !publicMeeting ? /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.wrapper,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.background\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: classes.content,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        px: [0, 4, 8, 16],\n        children: userId === publicMeeting.owner ? /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"warning\",\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body1\",\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"You cannot give yourself feedback!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 15\n        }, this) : !submitted ? /*#__PURE__*/_jsxDEV(Fade, {\n          in: true,\n          timeout: 1000,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            className: classes.feedbackCard,\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              mb: 4,\n              children: [/*#__PURE__*/_jsxDEV(Error, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h1\",\n                className: classes.title,\n                children: \"Give Feedback\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h5\",\n                className: classes.subtitle,\n                children: [\"for the presentation \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: publicMeeting === null || publicMeeting === void 0 ? void 0 : publicMeeting.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 44\n                }, this), \" \", \"which has just ended\", \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: formatDistanceToNow(new Date(publicMeeting === null || publicMeeting === void 0 ? void 0 : publicMeeting.stoppedAt), {\n                    addSuffix: true\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 159,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 19\n            }, this), !expired ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(Box, {\n                mb: 6,\n                children: /*#__PURE__*/_jsxDEV(Question, {\n                  name: \"overallStars\",\n                  stars: overallStars,\n                  onChange: (event, newValue) => {\n                    setOverallStars(newValue);\n                  },\n                  question: \"How do you rate the overall experience?\",\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                mb: 6,\n                children: /*#__PURE__*/_jsxDEV(Question, {\n                  name: \"paceStars\",\n                  stars: paceStars,\n                  onChange: (event, newValue) => {\n                    setPaceStars(newValue);\n                  },\n                  question: \"Was the speaker's pace right for you?\",\n                  required: false\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                mb: 6,\n                children: /*#__PURE__*/_jsxDEV(Question, {\n                  name: \"contentStars\",\n                  stars: contentStars,\n                  onChange: (event, newValue) => {\n                    setContentStars(newValue);\n                  },\n                  question: \"Was the content useful?\",\n                  required: false\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 191,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                mb: 2,\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  disabled: !overallStars || submitLoading,\n                  endIcon: /*#__PURE__*/_jsxDEV(Send, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 204,\n                    columnNumber: 36\n                  }, this),\n                  variant: \"contained\",\n                  color: \"primary\",\n                  className: classes.submitButton,\n                  onClick: () => submitAnswer(overallStars, paceStars, contentStars),\n                  children: \"Submit Feedback\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Box, {\n                className: classes.anonymousBox,\n                children: [/*#__PURE__*/_jsxDEV(Box, {\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  children: [/*#__PURE__*/_jsxDEV(Security, {\n                    style: {\n                      marginRight: 8\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                    variant: \"subtitle1\",\n                    style: {\n                      fontWeight: 600\n                    },\n                    children: \"Your feedback is anonymous\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 218,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  style: {\n                    marginTop: 8,\n                    color: \"#BDC3C7\"\n                  },\n                  children: [\"We do not send any information related to your identity.\", \" \", signedIn && \"Feel free to logout if you feel safer then.\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(Alert, {\n              severity: \"warning\",\n              children: [/*#__PURE__*/_jsxDEV(AlertTitle, {\n                children: \"This link is expired\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                children: [\"You cannot give feedback anymore as the expiration time for this survey is \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: [EXPIRATION_MINUTES, \" minutes\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 40\n                }, this), \".\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(Fade, {\n          in: true,\n          timeout: 1000,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            className: classes.thankYouBox,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h2\",\n              gutterBottom: true,\n              children: \"Thank you for your feedback!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"subtitle1\",\n              style: {\n                color: \"#BDC3C7\"\n              },\n              children: \"Your response has been recorded. You can close this page now.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Favorite, {\n              className: classes.heartIcon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 7\n  }, this) : null;\n}\n\n_s(Feedback, \"fYwLfoIgNgY2Frtk+F/1bKG9N/E=\", false, function () {\n  return [useStyles, useParams, useFetchPublicMeeting, useSubmitAnswer, useAppSelector, useAppSelector];\n});\n\n_c = Feedback;\n\nvar _c;\n\n$RefreshReg$(_c, \"Feedback\");","map":{"version":3,"sources":["/Users/sanjayar/Desktop/moody-main copy 2/src/pages/feedback/Feedback.tsx"],"names":["Box","Button","Container","Typography","makeStyles","Paper","Fade","useParams","Error","useState","Alert","AlertTitle","Favorite","Security","Send","formatDistanceToNow","NotFound","useFetchPublicMeeting","useSubmitAnswer","EXPIRATION_MINUTES","red","useAppSelector","Question","useStyles","theme","background","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","minHeight","width","position","top","left","right","bottom","content","backgroundColor","wrapper","overflowX","overflowY","zIndex","color","paddingTop","spacing","paddingBottom","feedbackCard","backdropFilter","borderRadius","padding","border","boxShadow","title","fontSize","fontWeight","marginBottom","subtitle","submitButton","textTransform","transition","transform","anonymousBox","marginTop","thankYouBox","textAlign","heartIcon","animation","Feedback","classes","publicMeetingId","meetingLoading","expired","publicMeeting","submitLoading","submitted","submitAnswer","id","owner","signedIn","state","auth","userId","user","overallStars","setOverallStars","paceStars","setPaceStars","contentStars","setContentStars","name","Date","stoppedAt","addSuffix","event","newValue","marginRight"],"mappings":"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","sourcesContent":["import { Box, Button, Container, Typography, makeStyles, Paper, Fade } from \"@material-ui/core\";\nimport { useParams } from \"react-router-dom\";\nimport Error from \"../../error/Error\";\nimport { useState } from \"react\";\nimport { Alert, AlertTitle } from \"@material-ui/lab\";\nimport { Favorite, Security, Send } from \"@material-ui/icons\";\nimport { formatDistanceToNow } from \"date-fns\";\nimport NotFound from \"../NotFound\";\nimport { useFetchPublicMeeting, useSubmitAnswer } from \"./hooks\";\nimport { EXPIRATION_MINUTES } from \"./constants\";\nimport { red } from \"@material-ui/core/colors\";\nimport { useAppSelector } from \"../../reduxHooks\";\nimport Question from \"./Question\";\n\nconst useStyles = makeStyles((theme) => ({\n  background: {\n    backgroundImage: \"url('/images/feedback-bg.jpg')\",\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\",\n    backgroundRepeat: \"no-repeat\",\n    minHeight: \"100vh\",\n    width: \"100%\",\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    \"&::before\": {\n      content: '\"\"',\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      backgroundColor: \"rgba(26, 37, 47, 0.85)\",\n    }\n  },\n  wrapper: {\n    position: \"relative\",\n    minHeight: \"100vh\",\n    overflowX: \"hidden\",\n    overflowY: \"auto\",\n  },\n  content: {\n    position: \"relative\",\n    zIndex: 1,\n    color: \"#ECF0F1\",\n    paddingTop: theme.spacing(8),\n    paddingBottom: theme.spacing(8),\n  },\n  feedbackCard: {\n    backgroundColor: \"rgba(44, 62, 80, 0.7)\",\n    backdropFilter: \"blur(10px)\",\n    borderRadius: theme.spacing(2),\n    padding: theme.spacing(4),\n    border: \"1px solid rgba(236, 240, 241, 0.1)\",\n    boxShadow: \"0 8px 32px rgba(0, 0, 0, 0.2)\",\n  },\n  title: {\n    fontSize: \"3rem\",\n    fontWeight: 700,\n    marginBottom: theme.spacing(1),\n    color: \"#ECF0F1\",\n  },\n  subtitle: {\n    fontSize: \"1.5rem\",\n    color: \"#BDC3C7\",\n    marginBottom: theme.spacing(4),\n  },\n  submitButton: {\n    padding: theme.spacing(1.5, 4),\n    fontSize: \"1.1rem\",\n    borderRadius: theme.spacing(1),\n    textTransform: \"none\",\n    transition: \"all 0.3s ease-in-out\",\n    \"&:hover\": {\n      transform: \"translateY(-2px)\",\n      boxShadow: \"0 5px 15px rgba(0, 0, 0, 0.3)\",\n    },\n  },\n  anonymousBox: {\n    backgroundColor: \"rgba(52, 73, 94, 0.7)\",\n    borderRadius: theme.spacing(1),\n    padding: theme.spacing(2),\n    marginTop: theme.spacing(3),\n    border: \"1px solid rgba(236, 240, 241, 0.1)\",\n  },\n  thankYouBox: {\n    backgroundColor: \"rgba(44, 62, 80, 0.7)\",\n    backdropFilter: \"blur(10px)\",\n    borderRadius: theme.spacing(2),\n    padding: theme.spacing(6),\n    textAlign: \"center\",\n    border: \"1px solid rgba(236, 240, 241, 0.1)\",\n    boxShadow: \"0 8px 32px rgba(0, 0, 0, 0.2)\",\n  },\n  heartIcon: {\n    animation: \"$pulse 1.5s infinite\",\n    color: red[500],\n    fontSize: \"3rem\",\n    marginTop: theme.spacing(2),\n  },\n  \"@keyframes pulse\": {\n    \"0%\": {\n      transform: \"scale(1)\",\n    },\n    \"50%\": {\n      transform: \"scale(1.2)\",\n    },\n    \"100%\": {\n      transform: \"scale(1)\",\n    },\n  },\n}));\n\nexport default function Feedback(): JSX.Element | null {\n  const classes = useStyles();\n  const { publicMeetingId } = useParams() as any;\n  const [meetingLoading, expired, publicMeeting] =\n    useFetchPublicMeeting(publicMeetingId);\n  const [submitLoading, submitted, submitAnswer] = useSubmitAnswer(\n    publicMeeting?.id,\n    publicMeeting?.owner\n  );\n  const signedIn: boolean = useAppSelector((state) => state.auth.signedIn);\n  const userId: string | undefined = useAppSelector(\n    (state) => state.auth.user?.id\n  );\n\n  const [overallStars, setOverallStars] = useState<number | null>(3);\n  const [paceStars, setPaceStars] = useState<number | null>(null);\n  const [contentStars, setContentStars] = useState<number | null>(null);\n\n  return !meetingLoading ? (\n    !publicMeeting ? (\n      <NotFound />\n    ) : (\n      <div className={classes.wrapper}>\n        <div className={classes.background} />\n        <Container className={classes.content}>\n          <Box px={[0, 4, 8, 16]}>\n            {userId === publicMeeting.owner ? (\n              <Alert severity=\"warning\">\n                <Typography variant=\"body1\">\n                  <strong>You cannot give yourself feedback!</strong>\n                </Typography>\n              </Alert>\n            ) : !submitted ? (\n              <Fade in timeout={1000}>\n                <Paper className={classes.feedbackCard}>\n                  <Box mb={4}>\n                    <Error />\n                    <Typography variant=\"h1\" className={classes.title}>\n                      Give Feedback\n                    </Typography>\n                    <Typography variant=\"h5\" className={classes.subtitle}>\n                      for the presentation <strong>{publicMeeting?.name}</strong>{\" \"}\n                      which has just ended{\" \"}\n                      <strong>\n                        {formatDistanceToNow(new Date(publicMeeting?.stoppedAt!), {\n                          addSuffix: true,\n                        })}\n                      </strong>\n                    </Typography>\n                  </Box>\n                  {!expired ? (\n                    <>\n                      <Box mb={6}>\n                        <Question\n                          name=\"overallStars\"\n                          stars={overallStars}\n                          onChange={(event, newValue) => {\n                            setOverallStars(newValue);\n                          }}\n                          question=\"How do you rate the overall experience?\"\n                          required={true}\n                        />\n                      </Box>\n                      <Box mb={6}>\n                        <Question\n                          name=\"paceStars\"\n                          stars={paceStars}\n                          onChange={(event, newValue) => {\n                            setPaceStars(newValue);\n                          }}\n                          question=\"Was the speaker's pace right for you?\"\n                          required={false}\n                        />\n                      </Box>\n                      <Box mb={6}>\n                        <Question\n                          name=\"contentStars\"\n                          stars={contentStars}\n                          onChange={(event, newValue) => {\n                            setContentStars(newValue);\n                          }}\n                          question=\"Was the content useful?\"\n                          required={false}\n                        />\n                      </Box>\n                      <Box mb={2}>\n                        <Button\n                          disabled={!overallStars || submitLoading}\n                          endIcon={<Send />}\n                          variant=\"contained\"\n                          color=\"primary\"\n                          className={classes.submitButton}\n                          onClick={() =>\n                            submitAnswer(overallStars!, paceStars, contentStars)\n                          }\n                        >\n                          Submit Feedback\n                        </Button>\n                      </Box>\n                      <Box className={classes.anonymousBox}>\n                        <Box display=\"flex\" alignItems=\"center\">\n                          <Security style={{ marginRight: 8 }} />\n                          <Typography variant=\"subtitle1\" style={{ fontWeight: 600 }}>\n                            Your feedback is anonymous\n                          </Typography>\n                        </Box>\n                        <Typography variant=\"body2\" style={{ marginTop: 8, color: \"#BDC3C7\" }}>\n                          We do not send any information related to your identity.{\" \"}\n                          {signedIn &&\n                            \"Feel free to logout if you feel safer then.\"}\n                        </Typography>\n                      </Box>\n                    </>\n                  ) : (\n                    <Alert severity=\"warning\">\n                      <AlertTitle>This link is expired</AlertTitle>\n                      <Typography variant=\"body1\">\n                        You cannot give feedback anymore as the expiration time for\n                        this survey is <strong>{EXPIRATION_MINUTES} minutes</strong>\n                        .\n                      </Typography>\n                    </Alert>\n                  )}\n                </Paper>\n              </Fade>\n            ) : (\n              <Fade in timeout={1000}>\n                <Box className={classes.thankYouBox}>\n                  <Typography variant=\"h2\" gutterBottom>\n                    Thank you for your feedback!\n                  </Typography>\n                  <Typography variant=\"subtitle1\" style={{ color: \"#BDC3C7\" }}>\n                    Your response has been recorded. You can close this page now.\n                  </Typography>\n                  <Favorite className={classes.heartIcon} />\n                </Box>\n              </Fade>\n            )}\n          </Box>\n        </Container>\n      </div>\n    )\n  ) : null;\n}\n"]},"metadata":{},"sourceType":"module"}