{"ast":null,"code":"function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !_isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return _setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}\n\nfunction _construct(Parent, args, Class) {\n  if (_isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) _setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nimport 'isomorphic-unfetch';\nimport UserAgent from './UserAgent';\n\nvar CognitoError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(CognitoError, _Error);\n\n  function CognitoError(message, code, name, statusCode) {\n    var _this;\n\n    _this = _Error.call(this, message) || this;\n    _this.code = code;\n    _this.name = name;\n    _this.statusCode = statusCode;\n    return _this;\n  }\n\n  return CognitoError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/** @class */\n\n\nvar Client = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AWS Cognito Identity Provider client object\n   * @param {string} region AWS region\n   * @param {string} endpoint endpoint\n   * @param {object} fetchOptions options for fetch API (only credentials is supported)\n   */\n  function Client(region, endpoint, fetchOptions) {\n    this.endpoint = endpoint || \"https://cognito-idp.\" + region + \".amazonaws.com/\";\n\n    var _ref = fetchOptions || {},\n        credentials = _ref.credentials;\n\n    this.fetchOptions = credentials ? {\n      credentials: credentials\n    } : {};\n  }\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @returns Promise<object>\n   */\n\n\n  var _proto = Client.prototype;\n\n  _proto.promisifyRequest = function promisifyRequest(operation, params) {\n    var _this2 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this2.request(operation, params, function (err, data) {\n        if (err) {\n          reject(new CognitoError(err.message, err.code, err.name, err.statusCode));\n        } else {\n          resolve(data);\n        }\n      });\n    });\n  };\n\n  _proto.requestWithRetry = function requestWithRetry(operation, params, callback) {\n    var _this3 = this;\n\n    var MAX_DELAY_IN_MILLIS = 5 * 1000;\n    jitteredExponentialRetry(function (p) {\n      return new Promise(function (res, rej) {\n        _this3.request(operation, p, function (error, result) {\n          if (error) {\n            rej(error);\n          } else {\n            res(result);\n          }\n        });\n      });\n    }, [params], MAX_DELAY_IN_MILLIS).then(function (result) {\n      return callback(null, result);\n    })[\"catch\"](function (error) {\n      return callback(error);\n    });\n  }\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @param {function} callback Callback called when a response is returned\n   * @returns {void}\n   */\n  ;\n\n  _proto.request = function request(operation, params, callback) {\n    var headers = {\n      'Content-Type': 'application/x-amz-json-1.1',\n      'X-Amz-Target': \"AWSCognitoIdentityProviderService.\" + operation,\n      'X-Amz-User-Agent': UserAgent.prototype.userAgent,\n      'Cache-Control': 'no-store'\n    };\n    var options = Object.assign({}, this.fetchOptions, {\n      headers: headers,\n      method: 'POST',\n      mode: 'cors',\n      body: JSON.stringify(params)\n    });\n    var response;\n    var responseJsonData;\n    fetch(this.endpoint, options).then(function (resp) {\n      response = resp;\n      return resp;\n    }, function (err) {\n      // If error happens here, the request failed\n      // if it is TypeError throw network error\n      if (err instanceof TypeError) {\n        throw new Error('Network error');\n      }\n\n      throw err;\n    }).then(function (resp) {\n      return resp.json()[\"catch\"](function () {\n        return {};\n      });\n    }).then(function (data) {\n      // return parsed body stream\n      if (response.ok) return callback(null, data);\n      responseJsonData = data; // Taken from aws-sdk-js/lib/protocol/json.js\n      // eslint-disable-next-line no-underscore-dangle\n\n      var code = (data.__type || data.code).split('#').pop();\n      var error = new Error(data.message || data.Message || null);\n      error.name = code;\n      error.code = code;\n      return callback(error);\n    })[\"catch\"](function (err) {\n      // first check if we have a service error\n      if (response && response.headers && response.headers.get('x-amzn-errortype')) {\n        try {\n          var code = response.headers.get('x-amzn-errortype').split(':')[0];\n          var error = new Error(response.status ? response.status.toString() : null);\n          error.code = code;\n          error.name = code;\n          error.statusCode = response.status;\n          return callback(error);\n        } catch (ex) {\n          return callback(err);\n        } // otherwise check if error is Network error\n\n      } else if (err instanceof Error && err.message === 'Network error') {\n        err.code = 'NetworkError';\n      }\n\n      return callback(err);\n    });\n  };\n\n  return Client;\n}();\n\nexport { Client as default };\nvar logger = {\n  debug: function debug() {// Intentionally blank. This package doesn't have logging\n  }\n};\n/**\n * For now, all errors are retryable.\n */\n\nvar NonRetryableError = /*#__PURE__*/function (_Error2) {\n  _inheritsLoose(NonRetryableError, _Error2);\n\n  function NonRetryableError(message) {\n    var _this4;\n\n    _this4 = _Error2.call(this, message) || this;\n    _this4.nonRetryable = true;\n    return _this4;\n  }\n\n  return NonRetryableError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n\nvar isNonRetryableError = function isNonRetryableError(obj) {\n  var key = 'nonRetryable';\n  return obj && obj[key];\n};\n\nfunction retry(functionToRetry, args, delayFn, attempt) {\n  if (attempt === void 0) {\n    attempt = 1;\n  }\n\n  if (typeof functionToRetry !== 'function') {\n    throw Error('functionToRetry must be a function');\n  }\n\n  logger.debug(functionToRetry.name + \" attempt #\" + attempt + \" with args: \" + JSON.stringify(args));\n  return functionToRetry.apply(void 0, args)[\"catch\"](function (err) {\n    logger.debug(\"error on \" + functionToRetry.name, err);\n\n    if (isNonRetryableError(err)) {\n      logger.debug(functionToRetry.name + \" non retryable error\", err);\n      throw err;\n    }\n\n    var retryIn = delayFn(attempt, args, err);\n    logger.debug(functionToRetry.name + \" retrying in \" + retryIn + \" ms\");\n\n    if (retryIn !== false) {\n      return new Promise(function (res) {\n        return setTimeout(res, retryIn);\n      }).then(function () {\n        return retry(functionToRetry, args, delayFn, attempt + 1);\n      });\n    } else {\n      throw err;\n    }\n  });\n}\n\nfunction jitteredBackoff(maxDelayMs) {\n  var BASE_TIME_MS = 100;\n  var JITTER_FACTOR = 100;\n  return function (attempt) {\n    var delay = Math.pow(2, attempt) * BASE_TIME_MS + JITTER_FACTOR * Math.random();\n    return delay > maxDelayMs ? false : delay;\n  };\n}\n\nvar MAX_DELAY_MS = 5 * 60 * 1000;\n\nfunction jitteredExponentialRetry(functionToRetry, args, maxDelayMs) {\n  if (maxDelayMs === void 0) {\n    maxDelayMs = MAX_DELAY_MS;\n  }\n\n  return retry(functionToRetry, args, jitteredBackoff(maxDelayMs));\n}","map":{"version":3,"sources":["/Users/sanjayar/Desktop/moody-main/node_modules/amazon-cognito-identity-js/es/Client.js"],"names":["_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","_wrapNativeSuper","Class","_cache","Map","undefined","_isNativeFunction","TypeError","has","get","set","Wrapper","_construct","arguments","_getPrototypeOf","value","enumerable","writable","configurable","Parent","args","_isNativeReflectConstruct","Reflect","construct","bind","a","push","apply","Constructor","Function","instance","sham","Proxy","Boolean","valueOf","call","e","fn","toString","indexOf","o","p","setPrototypeOf","__proto__","getPrototypeOf","UserAgent","CognitoError","_Error","message","code","name","statusCode","_this","Error","Client","region","endpoint","fetchOptions","_ref","credentials","_proto","promisifyRequest","operation","params","_this2","Promise","resolve","reject","request","err","data","requestWithRetry","callback","_this3","MAX_DELAY_IN_MILLIS","jitteredExponentialRetry","res","rej","error","result","then","headers","userAgent","options","assign","method","mode","body","JSON","stringify","response","responseJsonData","fetch","resp","json","ok","__type","split","pop","Message","status","ex","default","logger","debug","NonRetryableError","_Error2","_this4","nonRetryable","isNonRetryableError","obj","key","retry","functionToRetry","delayFn","attempt","retryIn","setTimeout","jitteredBackoff","maxDelayMs","BASE_TIME_MS","JITTER_FACTOR","delay","Math","pow","random","MAX_DELAY_MS"],"mappings":"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","sourcesContent":["function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nimport 'isomorphic-unfetch';\nimport UserAgent from './UserAgent';\nvar CognitoError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(CognitoError, _Error);\n  function CognitoError(message, code, name, statusCode) {\n    var _this;\n    _this = _Error.call(this, message) || this;\n    _this.code = code;\n    _this.name = name;\n    _this.statusCode = statusCode;\n    return _this;\n  }\n  return CognitoError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/** @class */\nvar Client = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AWS Cognito Identity Provider client object\n   * @param {string} region AWS region\n   * @param {string} endpoint endpoint\n   * @param {object} fetchOptions options for fetch API (only credentials is supported)\n   */\n  function Client(region, endpoint, fetchOptions) {\n    this.endpoint = endpoint || \"https://cognito-idp.\" + region + \".amazonaws.com/\";\n    var _ref = fetchOptions || {},\n      credentials = _ref.credentials;\n    this.fetchOptions = credentials ? {\n      credentials: credentials\n    } : {};\n  }\n\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @returns Promise<object>\n   */\n  var _proto = Client.prototype;\n  _proto.promisifyRequest = function promisifyRequest(operation, params) {\n    var _this2 = this;\n    return new Promise(function (resolve, reject) {\n      _this2.request(operation, params, function (err, data) {\n        if (err) {\n          reject(new CognitoError(err.message, err.code, err.name, err.statusCode));\n        } else {\n          resolve(data);\n        }\n      });\n    });\n  };\n  _proto.requestWithRetry = function requestWithRetry(operation, params, callback) {\n    var _this3 = this;\n    var MAX_DELAY_IN_MILLIS = 5 * 1000;\n    jitteredExponentialRetry(function (p) {\n      return new Promise(function (res, rej) {\n        _this3.request(operation, p, function (error, result) {\n          if (error) {\n            rej(error);\n          } else {\n            res(result);\n          }\n        });\n      });\n    }, [params], MAX_DELAY_IN_MILLIS).then(function (result) {\n      return callback(null, result);\n    })[\"catch\"](function (error) {\n      return callback(error);\n    });\n  }\n\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @param {function} callback Callback called when a response is returned\n   * @returns {void}\n   */;\n  _proto.request = function request(operation, params, callback) {\n    var headers = {\n      'Content-Type': 'application/x-amz-json-1.1',\n      'X-Amz-Target': \"AWSCognitoIdentityProviderService.\" + operation,\n      'X-Amz-User-Agent': UserAgent.prototype.userAgent,\n      'Cache-Control': 'no-store'\n    };\n    var options = Object.assign({}, this.fetchOptions, {\n      headers: headers,\n      method: 'POST',\n      mode: 'cors',\n      body: JSON.stringify(params)\n    });\n    var response;\n    var responseJsonData;\n    fetch(this.endpoint, options).then(function (resp) {\n      response = resp;\n      return resp;\n    }, function (err) {\n      // If error happens here, the request failed\n      // if it is TypeError throw network error\n      if (err instanceof TypeError) {\n        throw new Error('Network error');\n      }\n      throw err;\n    }).then(function (resp) {\n      return resp.json()[\"catch\"](function () {\n        return {};\n      });\n    }).then(function (data) {\n      // return parsed body stream\n      if (response.ok) return callback(null, data);\n      responseJsonData = data;\n\n      // Taken from aws-sdk-js/lib/protocol/json.js\n      // eslint-disable-next-line no-underscore-dangle\n      var code = (data.__type || data.code).split('#').pop();\n      var error = new Error(data.message || data.Message || null);\n      error.name = code;\n      error.code = code;\n      return callback(error);\n    })[\"catch\"](function (err) {\n      // first check if we have a service error\n      if (response && response.headers && response.headers.get('x-amzn-errortype')) {\n        try {\n          var code = response.headers.get('x-amzn-errortype').split(':')[0];\n          var error = new Error(response.status ? response.status.toString() : null);\n          error.code = code;\n          error.name = code;\n          error.statusCode = response.status;\n          return callback(error);\n        } catch (ex) {\n          return callback(err);\n        }\n        // otherwise check if error is Network error\n      } else if (err instanceof Error && err.message === 'Network error') {\n        err.code = 'NetworkError';\n      }\n      return callback(err);\n    });\n  };\n  return Client;\n}();\nexport { Client as default };\nvar logger = {\n  debug: function debug() {\n    // Intentionally blank. This package doesn't have logging\n  }\n};\n\n/**\n * For now, all errors are retryable.\n */\nvar NonRetryableError = /*#__PURE__*/function (_Error2) {\n  _inheritsLoose(NonRetryableError, _Error2);\n  function NonRetryableError(message) {\n    var _this4;\n    _this4 = _Error2.call(this, message) || this;\n    _this4.nonRetryable = true;\n    return _this4;\n  }\n  return NonRetryableError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nvar isNonRetryableError = function isNonRetryableError(obj) {\n  var key = 'nonRetryable';\n  return obj && obj[key];\n};\nfunction retry(functionToRetry, args, delayFn, attempt) {\n  if (attempt === void 0) {\n    attempt = 1;\n  }\n  if (typeof functionToRetry !== 'function') {\n    throw Error('functionToRetry must be a function');\n  }\n  logger.debug(functionToRetry.name + \" attempt #\" + attempt + \" with args: \" + JSON.stringify(args));\n  return functionToRetry.apply(void 0, args)[\"catch\"](function (err) {\n    logger.debug(\"error on \" + functionToRetry.name, err);\n    if (isNonRetryableError(err)) {\n      logger.debug(functionToRetry.name + \" non retryable error\", err);\n      throw err;\n    }\n    var retryIn = delayFn(attempt, args, err);\n    logger.debug(functionToRetry.name + \" retrying in \" + retryIn + \" ms\");\n    if (retryIn !== false) {\n      return new Promise(function (res) {\n        return setTimeout(res, retryIn);\n      }).then(function () {\n        return retry(functionToRetry, args, delayFn, attempt + 1);\n      });\n    } else {\n      throw err;\n    }\n  });\n}\nfunction jitteredBackoff(maxDelayMs) {\n  var BASE_TIME_MS = 100;\n  var JITTER_FACTOR = 100;\n  return function (attempt) {\n    var delay = Math.pow(2, attempt) * BASE_TIME_MS + JITTER_FACTOR * Math.random();\n    return delay > maxDelayMs ? false : delay;\n  };\n}\nvar MAX_DELAY_MS = 5 * 60 * 1000;\nfunction jitteredExponentialRetry(functionToRetry, args, maxDelayMs) {\n  if (maxDelayMs === void 0) {\n    maxDelayMs = MAX_DELAY_MS;\n  }\n  return retry(functionToRetry, args, jitteredBackoff(maxDelayMs));\n}"]},"metadata":{},"sourceType":"module"}