{"ast":null,"code":"var _jsxFileName = \"/Users/sanjayar/Desktop/moody-main copy/src/pages/meeting/RatingsBarChart.tsx\",\n    _s = $RefreshSig$();\n\nimport { Box, IconButton, Paper, Popover, Typography, useTheme } from \"@material-ui/core\";\nimport { useAppSelector } from \"../../reduxHooks\";\nimport { useState } from \"react\";\nimport { InfoOutlined } from \"@material-ui/icons\";\nimport Plot from \"react-plotly.js\";\nimport { selectActiveMeetingRatings } from \"../../meetings/ratingsSlice\";\nimport { range } from \"lodash-es\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RatingsBarChart({\n  questionType,\n  title,\n  explanation\n}) {\n  _s();\n\n  const theme = useTheme();\n  const ratings = useAppSelector(selectActiveMeetingRatings); // Popover\n\n  const [anchorEl, setAnchorEl] = useState(null);\n\n  const handleOpenPopover = event => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClosePopover = () => {\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n  return /*#__PURE__*/_jsxDEV(Paper, {\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      position: \"relative\",\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        position: \"absolute\",\n        top: 0,\n        right: 0,\n        zIndex: 1,\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"secondary\",\n          onClick: handleOpenPopover,\n          children: /*#__PURE__*/_jsxDEV(InfoOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Popover, {\n          open: open,\n          anchorEl: anchorEl,\n          onClose: handleClosePopover,\n          anchorOrigin: {\n            vertical: \"bottom\",\n            horizontal: \"center\"\n          },\n          transformOrigin: {\n            vertical: \"top\",\n            horizontal: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            p: 2,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: explanation\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Plot, {\n      config: {\n        displayModeBar: false\n      },\n      layout: {\n        title,\n        paper_bgcolor: \"transparent\",\n        plot_bgcolor: \"transparent\",\n        hovermode: false,\n        width: 605,\n        height: 375,\n        margin: {\n          l: 30,\n          r: 30,\n          t: 80,\n          b: 50\n        },\n        font: {\n          family: theme.typography.fontFamily,\n          color: theme.palette.text.primary\n        },\n        yaxis: {\n          tickformat: \",d\",\n          rangemode: \"nonnegative\"\n        },\n        transition: {\n          duration: 500,\n          easing: \"cubic-in-out\"\n        }\n      },\n      data: [{\n        x: range(1, 6).map(i => range(1, i).reduce(prev => prev + \"⭐\", \"⭐\")),\n        y: range(1, 6).map(i => ratings.filter(r => r[questionType] === i).length),\n        marker: {\n          color: theme.palette.primary.main\n        },\n        type: \"bar\"\n      }]\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n}\n\n_s(RatingsBarChart, \"SS+1WViYKbaPr20esECQfplMamQ=\", false, function () {\n  return [useTheme, useAppSelector];\n});\n\n_c = RatingsBarChart;\n\nvar _c;\n\n$RefreshReg$(_c, \"RatingsBarChart\");","map":{"version":3,"sources":["/Users/sanjayar/Desktop/moody-main copy/src/pages/meeting/RatingsBarChart.tsx"],"names":["Box","IconButton","Paper","Popover","Typography","useTheme","useAppSelector","useState","InfoOutlined","Plot","selectActiveMeetingRatings","range","RatingsBarChart","questionType","title","explanation","theme","ratings","anchorEl","setAnchorEl","handleOpenPopover","event","currentTarget","handleClosePopover","open","Boolean","vertical","horizontal","displayModeBar","paper_bgcolor","plot_bgcolor","hovermode","width","height","margin","l","r","t","b","font","family","typography","fontFamily","color","palette","text","primary","yaxis","tickformat","rangemode","transition","duration","easing","x","map","i","reduce","prev","y","filter","length","marker","main","type"],"mappings":"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","sourcesContent":["import {\n  Box,\n  IconButton,\n  Paper,\n  Popover,\n  Typography,\n  useTheme,\n} from \"@material-ui/core\";\nimport { Rating } from \"../../models\";\nimport { useAppSelector } from \"../../reduxHooks\";\nimport { useState } from \"react\";\nimport { InfoOutlined } from \"@material-ui/icons\";\nimport Plot from \"react-plotly.js\";\nimport { selectActiveMeetingRatings } from \"../../meetings/ratingsSlice\";\nimport { range } from \"lodash-es\";\n\ntype RatingsBarChartProps = {\n  questionType: \"overallStars\" | \"contentStars\" | \"paceStars\";\n  title: string;\n  explanation: string;\n};\n\nexport default function RatingsBarChart({\n  questionType,\n  title,\n  explanation,\n}: RatingsBarChartProps): JSX.Element {\n  const theme = useTheme();\n  const ratings: Rating[] = useAppSelector(selectActiveMeetingRatings);\n\n  // Popover\n  const [anchorEl, setAnchorEl] = useState<HTMLButtonElement | null>(null);\n\n  const handleOpenPopover = (event: React.MouseEvent<HTMLButtonElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClosePopover = () => {\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n\n  return (\n    <Paper>\n      <Box position=\"relative\">\n        <Box position=\"absolute\" top={0} right={0} zIndex={1}>\n          <IconButton color=\"secondary\" onClick={handleOpenPopover}>\n            <InfoOutlined />\n          </IconButton>\n          <Popover\n            open={open}\n            anchorEl={anchorEl}\n            onClose={handleClosePopover}\n            anchorOrigin={{\n              vertical: \"bottom\",\n              horizontal: \"center\",\n            }}\n            transformOrigin={{\n              vertical: \"top\",\n              horizontal: \"center\",\n            }}\n          >\n            <Box p={2}>\n              <Typography variant=\"body2\">{explanation}</Typography>\n            </Box>\n          </Popover>\n        </Box>\n      </Box>\n      <Plot\n        config={{\n          displayModeBar: false,\n        }}\n        layout={{\n          title,\n          paper_bgcolor: \"transparent\",\n          plot_bgcolor: \"transparent\",\n          hovermode: false,\n          width: 605,\n          height: 375,\n          margin: {\n            l: 30,\n            r: 30,\n            t: 80,\n            b: 50,\n          },\n          font: {\n            family: theme.typography.fontFamily,\n            color: theme.palette.text.primary,\n          },\n          yaxis: {\n            tickformat: \",d\",\n            rangemode: \"nonnegative\",\n          },\n          transition: {\n            duration: 500,\n            easing: \"cubic-in-out\",\n          },\n        }}\n        data={[\n          {\n            x: range(1, 6).map((i) =>\n              range(1, i).reduce((prev) => prev + \"⭐\", \"⭐\")\n            ),\n            y: range(1, 6).map(\n              (i) => ratings.filter((r) => r[questionType] === i).length\n            ),\n            marker: {\n              color: theme.palette.primary.main,\n            },\n            type: \"bar\",\n          },\n        ]}\n      />\n    </Paper>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}