{"ast":null,"code":"import { __assign, __awaiter, __generator, __read } from \"tslib\";\nimport { memoize } from \"@aws-sdk/property-provider\";\nimport { SignatureV4 } from \"@aws-sdk/signature-v4\";\nimport { normalizeProvider } from \"@aws-sdk/util-middleware\";\nvar CREDENTIAL_EXPIRE_WINDOW = 300000;\nexport var resolveAwsAuthConfig = function (input) {\n  var normalizedCreds = input.credentials ? normalizeCredentialProvider(input.credentials) : input.credentialDefaultProvider(input);\n  var _a = input.signingEscapePath,\n      signingEscapePath = _a === void 0 ? true : _a,\n      _b = input.systemClockOffset,\n      systemClockOffset = _b === void 0 ? input.systemClockOffset || 0 : _b,\n      sha256 = input.sha256;\n  var signer;\n\n  if (input.signer) {\n    signer = normalizeProvider(input.signer);\n  } else if (input.regionInfoProvider) {\n    signer = function () {\n      return normalizeProvider(input.region)().then(function (region) {\n        return __awaiter(void 0, void 0, void 0, function () {\n          var _a, _b, _c;\n\n          var _d;\n\n          return __generator(this, function (_e) {\n            switch (_e.label) {\n              case 0:\n                _b = (_a = input).regionInfoProvider;\n                _c = [region];\n                _d = {};\n                return [4, input.useFipsEndpoint()];\n\n              case 1:\n                _d.useFipsEndpoint = _e.sent();\n                return [4, input.useDualstackEndpoint()];\n\n              case 2:\n                return [4, _b.apply(_a, _c.concat([(_d.useDualstackEndpoint = _e.sent(), _d)]))];\n\n              case 3:\n                return [2, [_e.sent() || {}, region]];\n            }\n          });\n        });\n      }).then(function (_a) {\n        var _b = __read(_a, 2),\n            regionInfo = _b[0],\n            region = _b[1];\n\n        var signingRegion = regionInfo.signingRegion,\n            signingService = regionInfo.signingService;\n        input.signingRegion = input.signingRegion || signingRegion || region;\n        input.signingName = input.signingName || signingService || input.serviceId;\n\n        var params = __assign(__assign({}, input), {\n          credentials: normalizedCreds,\n          region: input.signingRegion,\n          service: input.signingName,\n          sha256: sha256,\n          uriEscapePath: signingEscapePath\n        });\n\n        var SignerCtor = input.signerConstructor || SignatureV4;\n        return new SignerCtor(params);\n      });\n    };\n  } else {\n    signer = function (authScheme) {\n      return __awaiter(void 0, void 0, void 0, function () {\n        var signingRegion, signingService, params, SignerCtor;\n        return __generator(this, function (_a) {\n          if (!authScheme) {\n            throw new Error(\"Unexpected empty auth scheme config\");\n          }\n\n          signingRegion = authScheme.signingScope;\n          signingService = authScheme.signingName;\n          input.signingRegion = input.signingRegion || signingRegion;\n          input.signingName = input.signingName || signingService || input.serviceId;\n          params = __assign(__assign({}, input), {\n            credentials: normalizedCreds,\n            region: input.signingRegion,\n            service: input.signingName,\n            sha256: sha256,\n            uriEscapePath: signingEscapePath\n          });\n          SignerCtor = input.signerConstructor || SignatureV4;\n          return [2, new SignerCtor(params)];\n        });\n      });\n    };\n  }\n\n  return __assign(__assign({}, input), {\n    systemClockOffset: systemClockOffset,\n    signingEscapePath: signingEscapePath,\n    credentials: normalizedCreds,\n    signer: signer\n  });\n};\nexport var resolveSigV4AuthConfig = function (input) {\n  var normalizedCreds = input.credentials ? normalizeCredentialProvider(input.credentials) : input.credentialDefaultProvider(input);\n  var _a = input.signingEscapePath,\n      signingEscapePath = _a === void 0 ? true : _a,\n      _b = input.systemClockOffset,\n      systemClockOffset = _b === void 0 ? input.systemClockOffset || 0 : _b,\n      sha256 = input.sha256;\n  var signer;\n\n  if (input.signer) {\n    signer = normalizeProvider(input.signer);\n  } else {\n    signer = normalizeProvider(new SignatureV4({\n      credentials: normalizedCreds,\n      region: input.region,\n      service: input.signingName,\n      sha256: sha256,\n      uriEscapePath: signingEscapePath\n    }));\n  }\n\n  return __assign(__assign({}, input), {\n    systemClockOffset: systemClockOffset,\n    signingEscapePath: signingEscapePath,\n    credentials: normalizedCreds,\n    signer: signer\n  });\n};\n\nvar normalizeCredentialProvider = function (credentials) {\n  if (typeof credentials === \"function\") {\n    return memoize(credentials, function (credentials) {\n      return credentials.expiration !== undefined && credentials.expiration.getTime() - Date.now() < CREDENTIAL_EXPIRE_WINDOW;\n    }, function (credentials) {\n      return credentials.expiration !== undefined;\n    });\n  }\n\n  return normalizeProvider(credentials);\n};","map":{"version":3,"sources":["/Users/sanjayar/Desktop/moody-main copy 2/node_modules/@aws-sdk/client-lex-runtime-v2/node_modules/@aws-sdk/middleware-signing/dist-es/configurations.js"],"names":["__assign","__awaiter","__generator","__read","memoize","SignatureV4","normalizeProvider","CREDENTIAL_EXPIRE_WINDOW","resolveAwsAuthConfig","input","normalizedCreds","credentials","normalizeCredentialProvider","credentialDefaultProvider","_a","signingEscapePath","_b","systemClockOffset","sha256","signer","regionInfoProvider","region","then","_c","_d","_e","label","useFipsEndpoint","sent","useDualstackEndpoint","apply","concat","regionInfo","signingRegion","signingService","signingName","serviceId","params","service","uriEscapePath","SignerCtor","signerConstructor","authScheme","Error","signingScope","resolveSigV4AuthConfig","expiration","undefined","getTime","Date","now"],"mappings":"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","sourcesContent":["import { __assign, __awaiter, __generator, __read } from \"tslib\";\nimport { memoize } from \"@aws-sdk/property-provider\";\nimport { SignatureV4 } from \"@aws-sdk/signature-v4\";\nimport { normalizeProvider } from \"@aws-sdk/util-middleware\";\nvar CREDENTIAL_EXPIRE_WINDOW = 300000;\nexport var resolveAwsAuthConfig = function (input) {\n    var normalizedCreds = input.credentials\n        ? normalizeCredentialProvider(input.credentials)\n        : input.credentialDefaultProvider(input);\n    var _a = input.signingEscapePath, signingEscapePath = _a === void 0 ? true : _a, _b = input.systemClockOffset, systemClockOffset = _b === void 0 ? input.systemClockOffset || 0 : _b, sha256 = input.sha256;\n    var signer;\n    if (input.signer) {\n        signer = normalizeProvider(input.signer);\n    }\n    else if (input.regionInfoProvider) {\n        signer = function () {\n            return normalizeProvider(input.region)()\n                .then(function (region) { return __awaiter(void 0, void 0, void 0, function () {\n                var _a, _b, _c;\n                var _d;\n                return __generator(this, function (_e) {\n                    switch (_e.label) {\n                        case 0:\n                            _b = (_a = input).regionInfoProvider;\n                            _c = [region];\n                            _d = {};\n                            return [4, input.useFipsEndpoint()];\n                        case 1:\n                            _d.useFipsEndpoint = _e.sent();\n                            return [4, input.useDualstackEndpoint()];\n                        case 2: return [4, _b.apply(_a, _c.concat([(_d.useDualstackEndpoint = _e.sent(),\n                                    _d)]))];\n                        case 3: return [2, [\n                                (_e.sent()) || {},\n                                region\n                            ]];\n                    }\n                });\n            }); })\n                .then(function (_a) {\n                var _b = __read(_a, 2), regionInfo = _b[0], region = _b[1];\n                var signingRegion = regionInfo.signingRegion, signingService = regionInfo.signingService;\n                input.signingRegion = input.signingRegion || signingRegion || region;\n                input.signingName = input.signingName || signingService || input.serviceId;\n                var params = __assign(__assign({}, input), { credentials: normalizedCreds, region: input.signingRegion, service: input.signingName, sha256: sha256, uriEscapePath: signingEscapePath });\n                var SignerCtor = input.signerConstructor || SignatureV4;\n                return new SignerCtor(params);\n            });\n        };\n    }\n    else {\n        signer = function (authScheme) { return __awaiter(void 0, void 0, void 0, function () {\n            var signingRegion, signingService, params, SignerCtor;\n            return __generator(this, function (_a) {\n                if (!authScheme) {\n                    throw new Error(\"Unexpected empty auth scheme config\");\n                }\n                signingRegion = authScheme.signingScope;\n                signingService = authScheme.signingName;\n                input.signingRegion = input.signingRegion || signingRegion;\n                input.signingName = input.signingName || signingService || input.serviceId;\n                params = __assign(__assign({}, input), { credentials: normalizedCreds, region: input.signingRegion, service: input.signingName, sha256: sha256, uriEscapePath: signingEscapePath });\n                SignerCtor = input.signerConstructor || SignatureV4;\n                return [2, new SignerCtor(params)];\n            });\n        }); };\n    }\n    return __assign(__assign({}, input), { systemClockOffset: systemClockOffset, signingEscapePath: signingEscapePath, credentials: normalizedCreds, signer: signer });\n};\nexport var resolveSigV4AuthConfig = function (input) {\n    var normalizedCreds = input.credentials\n        ? normalizeCredentialProvider(input.credentials)\n        : input.credentialDefaultProvider(input);\n    var _a = input.signingEscapePath, signingEscapePath = _a === void 0 ? true : _a, _b = input.systemClockOffset, systemClockOffset = _b === void 0 ? input.systemClockOffset || 0 : _b, sha256 = input.sha256;\n    var signer;\n    if (input.signer) {\n        signer = normalizeProvider(input.signer);\n    }\n    else {\n        signer = normalizeProvider(new SignatureV4({\n            credentials: normalizedCreds,\n            region: input.region,\n            service: input.signingName,\n            sha256: sha256,\n            uriEscapePath: signingEscapePath,\n        }));\n    }\n    return __assign(__assign({}, input), { systemClockOffset: systemClockOffset, signingEscapePath: signingEscapePath, credentials: normalizedCreds, signer: signer });\n};\nvar normalizeCredentialProvider = function (credentials) {\n    if (typeof credentials === \"function\") {\n        return memoize(credentials, function (credentials) {\n            return credentials.expiration !== undefined &&\n                credentials.expiration.getTime() - Date.now() < CREDENTIAL_EXPIRE_WINDOW;\n        }, function (credentials) { return credentials.expiration !== undefined; });\n    }\n    return normalizeProvider(credentials);\n};\n"]},"metadata":{},"sourceType":"module"}