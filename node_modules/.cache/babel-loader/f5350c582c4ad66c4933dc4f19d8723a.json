{"ast":null,"code":"import { Auth } from \"aws-amplify\";\nimport { store } from \"../reduxStore\";\nimport { signIn, signOut } from \"./authSlice\";\nexport const syncUserWithRedux = async () => {\n  try {\n    const currentUser = await Auth.currentAuthenticatedUser();\n\n    if (currentUser) {\n      store.dispatch(signIn({\n        name: currentUser.attributes.name,\n        email: currentUser.attributes.email,\n        id: currentUser.username\n      }));\n    } else {\n      store.dispatch(signOut());\n    }\n  } catch (e) {\n    store.dispatch(signOut());\n  }\n};","map":{"version":3,"sources":["/Users/sanjayar/Desktop/moody-main copy/src/auth/utils.ts"],"names":["Auth","store","signIn","signOut","syncUserWithRedux","currentUser","currentAuthenticatedUser","dispatch","name","attributes","email","id","username","e"],"mappings":"AAAA,SAASA,IAAT,QAAqB,aAArB;AACA,SAASC,KAAT,QAAsB,eAAtB;AACA,SAASC,MAAT,EAAiBC,OAAjB,QAAgC,aAAhC;AAEA,OAAO,MAAMC,iBAAiB,GAAG,YAAY;AAC3C,MAAI;AACF,UAAMC,WAAuB,GAAG,MAAML,IAAI,CAACM,wBAAL,EAAtC;;AACA,QAAID,WAAJ,EAAiB;AACfJ,MAAAA,KAAK,CAACM,QAAN,CACEL,MAAM,CAAC;AACLM,QAAAA,IAAI,EAAEH,WAAW,CAACI,UAAZ,CAAuBD,IADxB;AAELE,QAAAA,KAAK,EAAEL,WAAW,CAACI,UAAZ,CAAuBC,KAFzB;AAGLC,QAAAA,EAAE,EAAEN,WAAW,CAACO;AAHX,OAAD,CADR;AAOD,KARD,MAQO;AACLX,MAAAA,KAAK,CAACM,QAAN,CAAeJ,OAAO,EAAtB;AACD;AACF,GAbD,CAaE,OAAOU,CAAP,EAAU;AACVZ,IAAAA,KAAK,CAACM,QAAN,CAAeJ,OAAO,EAAtB;AACD;AACF,CAjBM","sourcesContent":["import { Auth } from \"aws-amplify\";\nimport { store } from \"../reduxStore\";\nimport { signIn, signOut } from \"./authSlice\";\n\nexport const syncUserWithRedux = async () => {\n  try {\n    const currentUser: any | null = await Auth.currentAuthenticatedUser();\n    if (currentUser) {\n      store.dispatch(\n        signIn({\n          name: currentUser.attributes.name,\n          email: currentUser.attributes.email,\n          id: currentUser.username,\n        })\n      );\n    } else {\n      store.dispatch(signOut());\n    }\n  } catch (e) {\n    store.dispatch(signOut());\n  }\n};\n"]},"metadata":{},"sourceType":"module"}